---
title: 접속 IP 로그 기록을 위한 배치 파일 만들기 (netstat)
category: Etc.
tag: ["netstat", "Batch file"]
---

이번 포스트는 내 PC에 접근한 ip를 기록하는 로그 파일 생성 방법을 소개하도록 할께.

누가 언제 내 PC로 접근했는지 기록하는 것은 보안 관리를 위한 목적, 또는 내가 제공하는 서비스 접속 정보를 확인하는 목적에서 사용될 수 있어.

나는 후자의 목적으로 내가 만든 서비스에 접근한 사용자 ip를 기록하는 로그 파일을 생성했어.

로그 파일의 생성은 다음과 같이 구성된 배치(batch) 파일을 만들어서 실행하게 되면 얻을 수 있었어.

 - 배치(batch) 파일 만들기
    1. netstat 명령어를 이용해서 현재 접속한 ip 확인
    2. netstat의 결과를 ">>" 명령어로 로그를 저장할 파일에 출력
    3. timeout / goto 명령어를 이용해 120초 간격으로 1 & 2를 실행
  
그럼 위에서 말한 배치 파일, netstat, timeout, goto 등의 명령어에 대해 자세히 알아보도록 하자.
